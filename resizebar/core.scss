@mixin resizebar(
  $size: var(--resizebar-size, 0.5rem),
  $controller: ".resizebar_controller",
  $container: ".resizebar_container",
  $delimiter: "__",
  // Big enough values to have controller not less than container, while '100%' is not working
  $height: 100vh,
  $width: 100vw
) {
  #{$controller} {
    // Check resizer.html to see why other options are not satisfying  
    overflow: scroll;

    // @content;
    // background-color: transparent;
    opacity: 0;

    // @content;

    &::-webkit-resizer {
      // opacity: 0;
      // background-color: transparent;
      // color: transparent;
    }  
  }

  #{$container}#{$delimiter} {
    // By default scrolls are at right and bottom sides. Obvious transform for desired effect without
    &left > #{$controller} /*scaleX*/,
    &top > #{$controller} /* scaleY */{
      transform: scaleX(-1) scaleY(-1);
    }

    // Trick bug that appears due to current layout
    &right > #{$controller} {
      justify-self: right;
    }
    &bottom > #{$controller} {
      align-self: end;
    }

    $sides: left, right, top, bottom;
    @each $side in $sides {
      &#{$side} {
        
        // Container takes controller's width-height and propagate to children. Be careful with display: content;
        overflow: hidden;
        display: grid;
        &::before, &::after, & > * {
          grid-column: 1;
          grid-row: 1;      
        }

        // NB: 'Controller' skin should be transparent for click- don't forget if own element is used 
        &::before, &::after {
          pointer-events: none;
        }

        // A way to make controller as strip
        padding-#{$side}: #{$size};
        & > #{$controller} {
          margin-#{$side}: calc(-1 * #{$size}); 

          $orientation: if($side == left or $side == right, horizontal, vertical); 
          resize: $orientation;
          @if ($orientation == horizontal) {
            min-width: $size;
            &::-webkit-scrollbar {
              width: #{$size};
              height: #{$height}; 
            }  
          } @else {
            min-height: $size;
            &::-webkit-scrollbar {
              width: #{$width};
              height: #{$size};
            }
          }
        }
      }
    }    
  }
}
