<meta name="viewport" content="width=device-width, initial-scale=1">

<label htmlFor="styling"> Custom line number style</label>
<input id="styling" type="checkbox" checked/>
<a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content">Editable content</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand">document.execCommand</a>
<section id="panel">
</section>
<ol id="editor" contenteditable type="1"><li></li></ol>
<style>
#editor {
  position: relative;
}
#editor, #editor > :first-child {
  min-height: 1em;
}
:checked ~ #editor {
  list-style: none;
  counter-reset: li-counter;
}
:checked ~ #editor li {
  counter-increment: li-counter;
}
:checked ~ #editor li::before {
  content: counter(li-counter) ". ";
  
  position: absolute;
  left: 0;
  background-color: grey;
  color: white;
}
</style>
<style>
#editor {
  border: 1px solid black;
}
#panel {
  display: grid;
  grid-auto-rows: 36px;
  grid-template-columns: repeat(auto-fill, 36px);
}
#panel > span {
  grid-column-end: span 2;
  display: grid;
  justify-content: center;
  align-content: center;
}
</style>
<script>
/**
 * Generated at https://docs.google.com/spreadsheets/d/1Ars6HscdFfEoDNgdBhl1fGxF2imC1HP_QaOsNTmNNeU/edit#gid=1132472029
*/
const panelData = [{"command":"backColor","description":"Changes the document background color. In <code>styleWithCss</code> mode, it affects the background color of the containing block instead. This requires a <a href=\"/en-US/docs/Web/CSS/color_value\" title=\"The <color> CSS data type represents a color in the sRGB color space. A <color> may also include an alpha-channel transparency value, indicating how the color should composite with its background.\"><code>&lt;color&gt;</code></a> value string to be passed in as a value argument. Note that Internet Explorer uses this to set the text background color.","requires":true,"disabled":false,".icon":"format_color_fill","icon":"https://fonts.gstatic.com/s/i/materialicons/format_color_fill/v1/24px.svg","group":"color","order":3,"group_order":4},{"command":"bold","description":"Toggles bold on/off for the selection or at the insertion point. Internet Explorer uses the <a href=\"/en-US/docs/Web/HTML/Element/strong\" title=\"The HTML Strong Importance Element (<strong>) indicates that its contents have strong importance, seriousness, or urgency. Browsers typically render the contents in bold type.\"><code>&lt;strong&gt;</code></a> tag instead of <a href=\"/en-US/docs/Web/HTML/Element/b\" title=\"The HTML Bring Attention To element (<b>)&nbsp; is used to draw the reader's attention to the element's contents, which are not otherwise granted special importance.\"><code>&lt;b&gt;</code></a>.","requires":false,"disabled":false,".icon":"format_bold","icon":"https://fonts.gstatic.com/s/i/materialicons/format_bold/v1/24px.svg","group":"format","order":1,"group_order":2},{"command":"ClearAuthenticationCache","description":"Clears all authentication credentials from the cache.","requires":false,"disabled":true},{"command":"contentReadOnly","description":"Makes the content document either read-only or editable. This requires a boolean true/false as the value argument. (Not supported by Internet Explorer.)","requires":true,"disabled":true},{"command":"copy","description":"Copies the current selection to the clipboard. Conditions of having this behavior enabled vary from one browser to another, and have evolved over time. Check the compatibility table to determine if you can use it in your case.","requires":false,"disabled":false,".icon":"content_copy","icon":"https://fonts.gstatic.com/s/i/materialicons/content_copy/v1/24px.svg","group":"action","order":4,"group_order":1},{"command":"createLink","description":"Creates an hyperlink from the selection, but only if there is a selection. Requires a <a href=\"/en-US/docs/Archive/Mozilla/URIs_and_URLs\">URI</a> string as a value argument for the hyperlink's <code>href</code>. The URI must contain at least a single character, which may be whitespace. (Internet Explorer will create a link with a <code>null</code> value.)","requires":true,"disabled":false,".icon":"insert_link","icon":"https://fonts.gstatic.com/s/i/materialicons/insert_link/v1/24px.svg","group":"insert","order":3,"group_order":8},{"command":"cut","description":"Removes the current selection and copies it to the clipboard. When this behavior is enabled varies between browsers, and its conditions have evolved over time. Check <a href=\"#Browser_compatibility\">the compatibility table</a> for usage details.","requires":false,"disabled":false,".icon":"content_cut","icon":"https://fonts.gstatic.com/s/i/materialicons/content_cut/v1/24px.svg","group":"action","order":5,"group_order":1},{"command":"decreaseFontSize","description":"Adds a <a href=\"/en-US/docs/Web/HTML/Element/small\" title=\"The HTML <small> element represents side-comments and small print, like copyright and legal text, independent of its styled presentation. By default, it renders text within it one font-size small, such as from small to x-small.\"><code>&lt;small&gt;</code></a> tag around the selection or at the insertion point. (Not supported by Internet Explorer.)","requires":false,"disabled":false,".icon":"zoom_out","icon":"https://fonts.gstatic.com/s/i/materialicons/zoom_out/v1/24px.svg","group":"size","order":6,"group_order":3},{"command":"defaultParagraphSeparator","description":"Changes the paragraph separator used when new paragraphs are created in editable text regions. See <a href=\"/en-US/docs/Web/Guide/HTML/Editable_content#Differences_in_markup_generation\">Differences in markup generation</a> for more details.","requires":false,"disabled":true},{"command":"delete","description":"Deletes the current selection.","requires":false,"disabled":false,".icon":"delete_outline","icon":"https://fonts.gstatic.com/s/i/materialicons/delete_outline/v1/24px.svg","group":"action","order":6,"group_order":1},{"command":"enableAbsolutePositionEditor","description":"Enables or disables the grabber that allows absolutely-positioned elements to be moved around. This is disabled by default in Firefox 63 Beta/Dev Edition (<a class=\"external\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1449564\" rel=\"noopener\" title=\"FIXED: Disable table/image resizers in default\">bug&nbsp;1449564</a>)","requires":false,"disabled":true},{"command":"enableInlineTableEditing","description":"Enables or disables the table row/column insertion and deletion controls. This is disabled by default in Firefox 63 Beta/Dev Edition (<a class=\"external\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1449564\" rel=\"noopener\" title=\"FIXED: Disable table/image resizers in default\">bug&nbsp;1449564</a>).","requires":false,"disabled":true},{"command":"enableObjectResizing","description":"Enables or disables the resize handles on images, tables, and absolutely-positioned elements and other resizable objects. This is disabled by default in Firefox 63 Beta/Dev Edition (<a class=\"external\" href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1449564\" rel=\"noopener\" title=\"FIXED: Disable table/image resizers in default\">bug&nbsp;1449564</a>).","requires":false,"disabled":true},{"command":"fontName","description":"Changes the font name for the selection or at the insertion point. This requires a font name string (like <code>\"Arial\"</code>) as a value argument.","requires":true,"disabled":false,".icon":"style","icon":"https://fonts.gstatic.com/s/i/materialicons/style/v1/24px.svg","group":"font","group_order":5},{"command":"fontSize","description":"Changes the font size for the selection or at the insertion point. This requires an integer from <code>1</code>-<code>7</code> as a value argument.","requires":true,"disabled":false,".icon":"format_size","icon":"https://fonts.gstatic.com/s/i/materialicons/format_size/v1/24px.svg","group":"size","order":4,"group_order":3},{"command":"foreColor","description":"Changes a font color for the selection or at the insertion point. This requires a hexadecimal color value string as a value argument.","requires":true,"disabled":false,".icon":"text_format","icon":"https://fonts.gstatic.com/s/i/materialicons/text_format/v1/24px.svg","group":"color","order":1,"group_order":4},{"command":"formatBlock","description":"Adds an HTML block-level element around the line containing the current selection, replacing the block element containing the line if one exists (in Firefox, <a href=\"/en-US/docs/Web/HTML/Element/blockquote\" title=\"The HTML <blockquote> Element (or HTML Block Quotation Element) indicates that the enclosed text is an extended quotation. Usually, this is rendered visually by indentation (see Notes for how to change it). A URL for the source of the quotation may be given using the cite attribute, while a text representation of the source can be given using the <cite> element.\"><code>&lt;blockquote&gt;</code></a> is the exception — it will wrap any containing block element). Requires a tag-name string as a value argument. Virtually all block-level elements can be used. (Internet Explorer and Edge support only heading tags <code>H1</code>–<code>H6</code>, <code>ADDRESS</code>, and <code>PRE</code>, which must be wrapped in angle brackets, such as <code>\"&lt;H1&gt;\"</code>.)","requires":true,"disabled":false,".icon":"format_quote","icon":"https://fonts.gstatic.com/s/i/materialicons/format_quote/v1/24px.svg","group":"insert","order":9,"group_order":8},{"command":"forwardDelete","description":"Deletes the character ahead of the <a class=\"external\" href=\"http://en.wikipedia.org/wiki/Cursor_%28computers%29\" rel=\"noopener\">cursor</a>'s position, identical to hitting the Delete key on a Windows keyboard.","requires":false,"disabled":true},{"command":"heading","description":"Adds a heading element around a selection or insertion point line. Requires the tag-name string as a value argument (i.e. <code>\"H1\"</code>, <code>\"H6\"</code>). (Not supported by Internet Explorer and Safari.)","requires":true,"disabled":false,".icon":"title","icon":"https://fonts.gstatic.com/s/i/materialicons/title/v1/24px.svg","group":"size","order":1,"group_order":3},{"command":"hiliteColor","description":"Changes the background color for the selection or at the insertion point. Requires a color value string as a value argument. <code>useCSS</code> must be <code>true</code> for this to function. (Not supported by Internet Explorer.)","requires":true,"disabled":false,".icon":"font_download","icon":"https://fonts.gstatic.com/s/i/materialicons/font_download/v1/24px.svg","group":"color","order":2,"group_order":4},{"command":"increaseFontSize","description":"Adds a <a href=\"/en-US/docs/Web/HTML/Element/big\" title=\"The obsolete HTML Big Element (<big>) renders the enclosed text at a font size one level larger than the surrounding text (medium becomes large, for example).\"><code>&lt;big&gt;</code></a> tag around the selection or at the insertion point. (Not supported by Internet Explorer.)","requires":false,"disabled":false,".icon":"zoom_in","icon":"https://fonts.gstatic.com/s/i/materialicons/zoom_in/v1/24px.svg","group":"size","order":5,"group_order":3},{"command":"indent","description":"Indents the line containing the selection or insertion point. In Firefox, if the selection spans multiple lines at different levels of indentation, only the least indented lines in the selection will be indented.","requires":false,"disabled":false,".icon":"format_indent_increase","icon":"https://fonts.gstatic.com/s/i/materialicons/format_indent_increase/v1/24px.svg","group":"indent","order":1,"group_order":7},{"command":"insertBrOnReturn","description":"Controls whether the Enter key inserts a <a href=\"/en-US/docs/Web/HTML/Element/br\" title=\"The HTML <br> element produces a line break in text (carriage-return). It is useful for writing a poem or an address, where the division of lines is significant.\"><code>&lt;br&gt;</code></a> element, or splits the current block element into two. (Not supported by Internet Explorer.)","requires":false,"disabled":true,"group":"insert","group_order":8},{"command":"insertHorizontalRule","description":"Inserts a <a href=\"/en-US/docs/Web/HTML/Element/hr\" title=\"The HTML <hr> element represents a thematic break between paragraph-level elements: for example, a change of scene in a story, or a shift of topic within a section.\"><code>&lt;hr&gt;</code></a> element at the insertion point, or replaces the selection with it.","requires":false,"disabled":false,".icon":"remove","icon":"https://fonts.gstatic.com/s/i/materialicons/remove/v1/24px.svg","group":"insert","order":7,"group_order":8},{"command":"insertHTML","description":"Inserts an HTML string at the insertion point (deletes selection). Requires a valid HTML string as a value argument. (Not supported by Internet Explorer.)","requires":true,"disabled":false,".icon":"insert_drive_file","icon":"https://fonts.gstatic.com/s/i/materialicons/insert_drive_file/v1/24px.svg","group":"insert","order":8,"group_order":8},{"command":"insertImage","description":"Inserts an image at the insertion point (deletes selection). Requires a URL string for the image's <code>src</code> as a value argument. The requirements for this string are the same as <code>createLink</code>.","requires":true,"disabled":false,".icon":"insert_photo","icon":"https://fonts.gstatic.com/s/i/materialicons/insert_photo/v1/24px.svg","group":"insert","order":6,"group_order":8},{"command":"insertOrderedList","description":"Creates a <a href=\"/en-US/docs/Web/HTML/Element/ol\">numbered ordered list</a> for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"format_list_numbered","icon":"https://fonts.gstatic.com/s/i/materialicons/format_list_numbered/v1/24px.svg","group":"insert","order":2,"group_order":8},{"command":"insertUnorderedList","description":"Creates a <a href=\"/en-US/docs/Web/HTML/Element/ul\">bulleted unordered list</a> for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"format_list_bulleted","icon":"https://fonts.gstatic.com/s/i/materialicons/format_list_bulleted/v1/24px.svg","group":"insert","order":1,"group_order":8},{"command":"insertParagraph","description":"Inserts a <a href=\"/en-US/docs/Web/HTML/Element/p\">paragraph</a> around the selection or the current line. (Internet Explorer inserts a paragraph at the insertion point and deletes the selection.)","requires":false,"disabled":false,".icon":"local_parking","icon":"https://fonts.gstatic.com/s/i/materialicons/local_parking/v1/24px.svg","group":"insert","order":5,"group_order":8},{"command":"insertText","description":"Inserts the given plain text at the insertion point (deletes selection).","requires":false,"disabled":true},{"command":"italic","description":"Toggles italics on/off for the selection or at the insertion point. (Internet Explorer uses the <a href=\"/en-US/docs/Web/HTML/Element/em\" title=\"The HTML <em> element marks text that has stress emphasis. The <em> element can be nested, with each level of nesting indicating a greater degree of emphasis.\"><code>&lt;em&gt;</code></a> element instead of <a href=\"/en-US/docs/Web/HTML/Element/i\" title=\"The HTML <i> element represents a range of text that is set off from the normal text for some reason. Some examples include technical terms, foreign language phrases, or fictional character thoughts. It is typically displayed in italic type.\"><code>&lt;i&gt;</code></a>.)","requires":false,"disabled":false,".icon":"format_italic","icon":"https://fonts.gstatic.com/s/i/materialicons/format_italic/v1/24px.svg","group":"format","order":2,"group_order":2},{"command":"justifyCenter","description":"Centers the selection or insertion point.","requires":false,"disabled":false,".icon":"format_align_center","icon":"https://fonts.gstatic.com/s/i/materialicons/format_align_center/v1/24px.svg","group":"align","order":2,"group_order":6},{"command":"justifyFull","description":"Justifies the selection or insertion point.","requires":false,"disabled":false,".icon":"format_align_justify","icon":"https://fonts.gstatic.com/s/i/materialicons/format_align_justify/v1/24px.svg","group":"align","order":4,"group_order":6},{"command":"justifyLeft","description":"Justifies the selection or insertion point to the left.","requires":false,"disabled":false,".icon":"format_align_left","icon":"https://fonts.gstatic.com/s/i/materialicons/format_align_left/v1/24px.svg","group":"align","order":1,"group_order":6},{"command":"justifyRight","description":"Right-justifies the selection or the insertion point.","requires":false,"disabled":false,".icon":"format_align_right","icon":"https://fonts.gstatic.com/s/i/materialicons/format_align_right/v1/24px.svg","group":"align","order":3,"group_order":6},{"command":"outdent","description":"Outdents the line containing the selection or insertion point.","requires":false,"disabled":false,".icon":"format_indent_decrease","icon":"https://fonts.gstatic.com/s/i/materialicons/format_indent_decrease/v1/24px.svg","group":"indent","order":2,"group_order":7},{"command":"paste","description":"Pastes the clipboard contents at the insertion point (replaces current selection). Disabled for web content. See [1].","requires":false,"disabled":false,".icon":"content_paste","icon":"https://fonts.gstatic.com/s/i/materialicons/content_paste/v1/24px.svg","group":"action","order":7,"group_order":1},{"command":"redo","description":"Redoes the previous undo command.","requires":false,"disabled":false,".icon":"redo","icon":"https://fonts.gstatic.com/s/i/materialicons/redo/v1/24px.svg","group":"action","order":2,"group_order":1},{"command":"removeFormat","description":"Removes all formatting from the current selection.","requires":false,"disabled":false,".icon":"format_clear","icon":"https://fonts.gstatic.com/s/i/materialicons/format_clear/v1/24px.svg","group":"global","order":1,"group_order":9},{"command":"selectAll","description":"Selects all of the content of the editable region.","requires":false,"disabled":true,".icon":"select_all","icon":"https://fonts.gstatic.com/s/i/materialicons/select_all/v1/24px.svg","group":"action","order":3,"group_order":1},{"command":"strikeThrough","description":"Toggles strikethrough on/off for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"format_strikethrough","icon":"https://fonts.gstatic.com/s/i/materialicons/format_strikethrough/v1/24px.svg","group":"format","order":4,"group_order":2},{"command":"subscript","description":"Toggles <a href=\"/en-US/docs/Web/HTML/Element/sub\">subscript</a> on/off for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"text_rotation_angledown","icon":"https://fonts.gstatic.com/s/i/materialicons/text_rotation_angledown/v1/24px.svg","group":"size","order":2,"group_order":3},{"command":"superscript","description":"Toggles <a href=\"/en-US/docs/Web/HTML/Element/sup\">superscript</a> on/off for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"text_rotation_angleup","icon":"https://fonts.gstatic.com/s/i/materialicons/text_rotation_angleup/v1/24px.svg","group":"size","order":3,"group_order":3},{"command":"underline","description":"Toggles <a href=\"/en-US/docs/Web/HTML/Element/u\">underline</a> on/off for the selection or at the insertion point.","requires":false,"disabled":false,".icon":"format_underlined","icon":"https://fonts.gstatic.com/s/i/materialicons/format_underlined/v1/24px.svg","group":"format","order":3,"group_order":2},{"command":"undo","description":"Undoes the last executed command.","requires":false,"disabled":false,".icon":"undo","icon":"https://fonts.gstatic.com/s/i/materialicons/undo/v1/24px.svg","group":"action","order":1,"group_order":1},{"command":"unlink","description":"Removes the <a href=\"/en-US/docs/Web/HTML/Element/a\">anchor element</a> from a selected hyperlink.","requires":false,"disabled":false,".icon":"link_off","icon":"https://fonts.gstatic.com/s/i/materialicons/link_off/v1/24px.svg","group":"insert","order":4,"group_order":8},{"command":"useCSS","description":"Toggles the use of HTML tags or CSS for the generated markup. Requires a boolean true/false as a value argument.</dd><dd>NOTE: This argument is logically backwards (i.e. use <code>false</code> to use CSS, <code>true</code> to use HTML) and unsupported by Internet Explorer. This has been deprecated in favor of <code>styleWithCSS</code>.","requires":true,"disabled":false,".icon":"color_lens","icon":"https://fonts.gstatic.com/s/i/materialicons/color_lens/v1/24px.svg","group":"global","order":2,"group_order":9},{"command":"styleWithCSS","description":"Replaces the <code>useCSS</code> command. <code>true</code> modifies/generates <code>style</code> attributes in markup, false generates presentational elements.","requires":false,"disabled":true}]
.sort(
  (
    {
      group_order: gi0 = Number.MAX_SAFE_INTEGER,
      order: i0 = Number.MAX_SAFE_INTEGER
    }, {
      group_order: gi1 = Number.MAX_SAFE_INTEGER,
      order: i1 = Number.MAX_SAFE_INTEGER
    }
  ) => Math.sign(gi0 - gi1) || Math.sign(i0 - i1)
)
</script>
<script>
document.getElementById('panel').append(
  ...panelData
  .filter(({disabled}) => !disabled)
  .map(({command, description, requires, icon, group, order}) => {
    const img = document.createElement('img')
    , btn = document.createElement('button')
    
    img.setAttribute('src', icon)

    btn.setAttribute('title', `${command}\n\n${description}`)
    btn.onclick = () => {
      const resp = document.execCommand(
        command,
        false,
        requires ? prompt(description) : undefined
      )
      if (resp !== true)
        alert(resp)
    }
    btn.appendChild(img)
    
    let elGr; 

    return order === 1
    ? [
      (
        elGr = document.createElement('span'),
        elGr.innerHTML = `${group}:`,
        elGr
      ),
      btn
    ]
    : btn
  })
  .flat()
)

</script>